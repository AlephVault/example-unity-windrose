<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WindRose: WindRose.Behaviours.Objects.Movable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WindRose
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">An orthogonal RPG game making framework for Unity</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_wind_rose.html">WindRose</a></li><li class="navelem"><a class="el" href="namespace_wind_rose_1_1_behaviours.html">Behaviours</a></li><li class="navelem"><a class="el" href="namespace_wind_rose_1_1_behaviours_1_1_objects.html">Objects</a></li><li class="navelem"><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html">Movable</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">WindRose.Behaviours.Objects.Movable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p> 
 <a href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for WindRose.Behaviours.Objects.Movable:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a995fe42af36aa21b7614a917f1afb9a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#a995fe42af36aa21b7614a917f1afb9a8">SetMovingAnimation</a> ()</td></tr>
<tr class="memdesc:a995fe42af36aa21b7614a917f1afb9a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current animation to the movement animation registered in this component.  <a href="#a995fe42af36aa21b7614a917f1afb9a8">More...</a><br /></td></tr>
<tr class="separator:a995fe42af36aa21b7614a917f1afb9a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad476d031a29b03588d16dd5f92f89ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#aad476d031a29b03588d16dd5f92f89ca">StartMovement</a> (<a class="el" href="namespace_wind_rose_1_1_types.html#a13291fb2c7aa75d7ed2870d49c677360">Types.Direction</a> movement, bool queueIfMoving=true)</td></tr>
<tr class="memdesc:aad476d031a29b03588d16dd5f92f89ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a movement in certain direction.  <a href="#aad476d031a29b03588d16dd5f92f89ca">More...</a><br /></td></tr>
<tr class="separator:aad476d031a29b03588d16dd5f92f89ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21178cafc8225c953774cbe7b175a4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#ad21178cafc8225c953774cbe7b175a4b">CancelMovement</a> ()</td></tr>
<tr class="memdesc:ad21178cafc8225c953774cbe7b175a4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the current movement, if any.  <a href="#ad21178cafc8225c953774cbe7b175a4b">More...</a><br /></td></tr>
<tr class="separator:ad21178cafc8225c953774cbe7b175a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76e42e945f3ab5124367c7ccfa026df6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#a76e42e945f3ab5124367c7ccfa026df6">DoUpdate</a> ()</td></tr>
<tr class="separator:a76e42e945f3ab5124367c7ccfa026df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aeeaadd84f28229cc3216d48ba64d836f"><td class="memItemLeft" align="right" valign="top">const string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#aeeaadd84f28229cc3216d48ba64d836f">MOVE_ANIMATION</a> = &quot;move&quot;</td></tr>
<tr class="memdesc:aeeaadd84f28229cc3216d48ba64d836f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default animation key provided by <a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html">Movable</a> components.  <a href="#aeeaadd84f28229cc3216d48ba64d836f">More...</a><br /></td></tr>
<tr class="separator:aeeaadd84f28229cc3216d48ba64d836f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b94219496cd9ac07cf4e59870b7f8c"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#a55b94219496cd9ac07cf4e59870b7f8c">speed</a> = 2</td></tr>
<tr class="memdesc:a55b94219496cd9ac07cf4e59870b7f8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The movement speed, in game units per second.  <a href="#a55b94219496cd9ac07cf4e59870b7f8c">More...</a><br /></td></tr>
<tr class="separator:a55b94219496cd9ac07cf4e59870b7f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d5f136e90008591bf4e252aed5e9f1"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#a04d5f136e90008591bf4e252aed5e9f1">overriddenKeyForMoveAnimation</a> = null</td></tr>
<tr class="separator:a04d5f136e90008591bf4e252aed5e9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a248a5767e25c5448212b5ff1ecc7ecac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#a248a5767e25c5448212b5ff1ecc7ecac">IsMoving</a><code> [get]</code></td></tr>
<tr class="memdesc:a248a5767e25c5448212b5ff1ecc7ecac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells whether the object is moving. It knows that by reading the current movement in the underlying positionable.  <a href="#a248a5767e25c5448212b5ff1ecc7ecac">More...</a><br /></td></tr>
<tr class="separator:a248a5767e25c5448212b5ff1ecc7ecac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e7c291d6d5f5238199051bc39c7edd"><td class="memItemLeft" align="right" valign="top">Types.? <a class="el" href="namespace_wind_rose_1_1_types.html#a13291fb2c7aa75d7ed2870d49c677360">Direction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#a32e7c291d6d5f5238199051bc39c7edd">Movement</a><code> [get]</code></td></tr>
<tr class="memdesc:a32e7c291d6d5f5238199051bc39c7edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current movement in the underlying positionable.  <a href="#a32e7c291d6d5f5238199051bc39c7edd">More...</a><br /></td></tr>
<tr class="separator:a32e7c291d6d5f5238199051bc39c7edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html">Movable</a> components exist on top of <a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_oriented.html">Oriented</a> components and add the moving animation set. They also have the means to start and cancel a movement on any direction. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ad21178cafc8225c953774cbe7b175a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21178cafc8225c953774cbe7b175a4b">&#9670;&nbsp;</a></span>CancelMovement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WindRose.Behaviours.Objects.Movable.CancelMovement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancels the current movement, if any. </p>

</div>
</div>
<a id="a76e42e945f3ab5124367c7ccfa026df6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76e42e945f3ab5124367c7ccfa026df6">&#9670;&nbsp;</a></span>DoUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WindRose.Behaviours.Objects.Movable.DoUpdate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>
<p>This is a callback for the Update of the positionable. It is not intended to be called directly. </p>
<p>Updates the current in-map position on the object, reflecting partial movement on each frame. </p>
<p>Now the logic must go like this:</p><ul>
<li>If no next movement is commanded, or a different-than-current movement is commanded, we must move 'till target, as now we do, and at the given speed.</li>
<li>Otherwise (same movement being commanded) our logic will be extended: *** see the inners in the ELSE branch for details ***</li>
</ul>
<p>Inners will be more elaborated here:</p><ol type="1">
<li>We calculate our movement with a target position of (target) + (a vector with norm of [movement offset by current speed and timedelta] + 1). This is intended to avoid movement clamping against the target due to high speeds. 2a. If the distance between this target position and the origin is less than the distance between the target and the origin, we just increment the position. 2c. Otherwise (LOOPING) we ALSO mark the movement as completed, and start a new one (adapting origin and target)</li>
</ol>

</div>
</div>
<a id="a995fe42af36aa21b7614a917f1afb9a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a995fe42af36aa21b7614a917f1afb9a8">&#9670;&nbsp;</a></span>SetMovingAnimation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WindRose.Behaviours.Objects.Movable.SetMovingAnimation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the current animation to the movement animation registered in this component. </p>

</div>
</div>
<a id="aad476d031a29b03588d16dd5f92f89ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad476d031a29b03588d16dd5f92f89ca">&#9670;&nbsp;</a></span>StartMovement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WindRose.Behaviours.Objects.Movable.StartMovement </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_wind_rose_1_1_types.html#a13291fb2c7aa75d7ed2870d49c677360">Types.Direction</a>&#160;</td>
          <td class="paramname"><em>movement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>queueIfMoving</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts a movement in certain direction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">movement</td><td>The direction of the new movement</td></tr>
    <tr><td class="paramname">queueIfMoving</td><td>If <code>true</code>, this movement is "stored" and will execute automatically after the current movement ends. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the movement could be started</dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aeeaadd84f28229cc3216d48ba64d836f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeaadd84f28229cc3216d48ba64d836f">&#9670;&nbsp;</a></span>MOVE_ANIMATION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string WindRose.Behaviours.Objects.Movable.MOVE_ANIMATION = &quot;move&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default animation key provided by <a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html">Movable</a> components. </p>

</div>
</div>
<a id="a04d5f136e90008591bf4e252aed5e9f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04d5f136e90008591bf4e252aed5e9f1">&#9670;&nbsp;</a></span>overriddenKeyForMoveAnimation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string WindRose.Behaviours.Objects.Movable.overriddenKeyForMoveAnimation = null</td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>
<p>By setting this value to a non-null string, this value will be used instead of <a class="el" href="class_wind_rose_1_1_behaviours_1_1_objects_1_1_movable.html#aeeaadd84f28229cc3216d48ba64d836f" title="The default animation key provided by Movable components.">MOVE_ANIMATION</a> to choose the animation to be used when moving. </p>
<p>This is not a matter of animation replacement, but a matter of different logic in handling (e.g. changing this behaviour to use the "run" animation key (state) instead of the "move" animation key (state) without screwing either animation). </p>

</div>
</div>
<a id="a55b94219496cd9ac07cf4e59870b7f8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55b94219496cd9ac07cf4e59870b7f8c">&#9670;&nbsp;</a></span>speed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint WindRose.Behaviours.Objects.Movable.speed = 2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The movement speed, in game units per second. </p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="a248a5767e25c5448212b5ff1ecc7ecac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a248a5767e25c5448212b5ff1ecc7ecac">&#9670;&nbsp;</a></span>IsMoving</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool WindRose.Behaviours.Objects.Movable.IsMoving</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells whether the object is moving. It knows that by reading the current movement in the underlying positionable. </p>

</div>
</div>
<a id="a32e7c291d6d5f5238199051bc39c7edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32e7c291d6d5f5238199051bc39c7edd">&#9670;&nbsp;</a></span>Movement</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Types.? <a class="el" href="namespace_wind_rose_1_1_types.html#a13291fb2c7aa75d7ed2870d49c677360">Direction</a> WindRose.Behaviours.Objects.Movable.Movement</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the current movement in the underlying positionable. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Assets/Scripts/WindRose/Behaviours/Objects/Movable.cs</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
